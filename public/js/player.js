(function(e,a){function g(){this.controls=this.player=null;this.container=".video_container"}g.prototype={init:function(){var c=a("video"),b=a(".videoControls"),d=this,f=a("");a.each(c,function(b,c){var d=a(c);"vNative"==d.data("property")&&(f=f.add(d))});0!==f.length&&(c=f,b.addClass("js"),this.player=c,this.controls=b,c.attr("controls",!1),c.on("loadedmetadata",function(){d.showHideControls()}),this.handleButtonPress(),this.updateBar(),this.volControl(),this.fullScreen())},showHideControls:function(){var c=
this.player,b=this.controls;a.each(c,function(a,b){b.volume=0});c.mouseover(function(b){a(this).next().css({opacity:1})});b.mouseover(function(b){a(this).css({opacity:1})});c.mouseout(function(b){a(this).next().css({opacity:0})});b.mouseout(function(b){a(this).css({opacity:0})})},playPause:function(a,b){a.paused||a.ended?(a.ended&&(a.currentTime=0),a.play(),b.html("&#x2590;&#x2590;").attr("title","Pause").css({"font-size":"10px"})):(a.pause(),b.attr("title","Play").css({"font-size":"14px"}).html("&#x25BA;"))},
handleButtonPress:function(){var c=this.player,b=this,d=a(".playButton");c.on("click",function(c){c.preventDefault();c=a(this).parent().children().find(".playButton");b.playPause(this,c)});d.on("click",function(c){c.preventDefault();c=a(this).parents(b.container).find("video");b.playPause(c[0],a(this))})},updateBar:function(){var c=this.player,b="",d=this;c.on("timeupdate",function(){var c=a(this)[0].currentTime,d=a(this)[0].duration,c=100*c/d;b=a(this).parent().children().find(".play_progress");
b.css({width:c+"%"})});c.on("ended",function(){a(this)[0].currentTime=0;a(this)[0].pause();a(this).parent().children().find(".playButton").attr("title","Play").css({"font-size":"14px"}).html("&#x25BA;");b=a(this).parent().children().find(".play_progress");b.css({width:"0%"})});a(".progress_box").on("click",function(c){c.preventDefault();c=100*(c.pageX-a(this).offset().left)/a(this).width();0>c&&(c=0);100<c&&(c=100);var e=a(this).parents(d.container).find("video");e[0].currentTime=c/100*e[0].duration;
b=a(this).children().find(".play_progress");b.css({width:c+"%"})})},volControl:function(){var c=this;a(".volProgBox").on("mousemove",function(b){b.preventDefault();b=100*(b.pageX-a(this).offset().left)/a(this).width();100<b&&(b=100);0>b&&(b=0);a(this).children().css({width:b+"%"});if(a(this).parent().prev().hasClass("muted"))return!1;a(this).parents(c.container).find("video")[0].volume=b/100});a(".volControl").on("click",function(b){b=a(this).parents(c.container).find("video");var d=0;a(this).hasClass("muted")?
(d=a(this).data("lastVol"),a(this).html("&#x260A;").attr("title","Mute")):a(this).data("lastVol",b[0].volume).html("&#x260B;").attr("title","Un-Mute");a(this).toggleClass("muted");b[0].volume=d})},buffering:function(){},fullScreen:function(){var c=this;a(".fullScreenVid").on("click",function(b){b.preventDefault();var d=a(this).parents().find("video");if("yes"===a(this).data("fs"))c.fsOff(a(this),d);else{a(this).data("fs","yes");d.css({position:"fixed",width:a(e).width()+"px",height:a(e).height()+
"px"});d.addClass("fsSizeVideo");a(this).parent().addClass("fs-control");a(this).addClass("fs-active control");var f=a(this);a(e.document).on("keydown",function(a){27==a.which&&c.fsOff(f,d)})}})},fsOff:function(a,b){a.data("fs","no");b[0].style.cssText="";b.removeClass("fsSizeVideo");a.removeClass("fs-active");a.parent().removeClass("fs-control")},create:function(a,b){var d='<div class="video_container"><video data-property="vNative" width="'+a[0].clientWidth+'" height="'+a[0].clientHeight+'" controls poster="'+
b._image+'">',d=d+('<source src="'+b._video+'" type="video/mp4">');a.replaceWith(d+'</video><div class="videoControls"><button class="playButton" title="Play" style="font-size: 14px;">&#x25BA;</button><div class="playProgress"><div class="progress_box"><span class="play_progress"></span></div></div><button style="font-size: 15px;" class="volControl" title="Mute"> &#x260A; </button><div class="volumeBar"><div class="volProgBox"><span class="volProgress"></span></div></div><button class="fullScreenVid" title="FullScreen Toggle"> FS </button></div></div>');
return this}};e.hPlayer=new g})(window,jQuery);