(function(){function r(){p=window.jQuery.noConflict(!0);t()}function t(){"undefined"===typeof window.$&&"undefined"!==typeof p&&(window.$=p);(function(n,g){function l(){this.domain="serve.vnative.com";this.dm=this.adunit=null;this.text={}}l.prototype={get:function(c){var f=this;g.ajax({url:"//"+f.domain+"/?callback=?",type:"GET",async:!0,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp"}).done(function(b){c.call(f,null,b)}).fail(function(b){c.call(f,b,null)})},modifyText:function(c){var f=
this;if(3==c.nodeType){var b=g(c).text(),b=b.replace(/\s/g,"");0!=b.length&&(b.match(/readmore|ContinueReading/i)instanceof Array?c.nodeValue="Read More":11>=b.length?c.nodeValue="":f.text[b.length]=c)}else 1==c.nodeType&&g(c).contents().each(function(){f.modifyText(this)})},replace:function(c,f){var b=this.text,a=Object.keys(b),a=a.map(function(a){return Number(a)});a.sort(function(a,b){return a-b});2<=a.length&&(b[a.pop()].nodeValue=f);b[a.pop()].nodeValue=c}};var m=function(c,f){function b(){this.regions=
[]}b.prototype={treeDepth:function(a){a=a.children();for(var h=0;0<a.length;)a=a.children(),h+=1;return h},_nodeIdentifier:function(a){var h="",h=h+a.prop("tagName");a.attr("id")&&(h+="#"+a.attr("id").replace(/[0-9]+/g,""));a.attr("class")&&(a=a.attr("class").split(/\s+/),3>=a.length&&(a.sort(),f.each(a,function(a,d){d=d.replace(/[0-9]+/g,"");h+="."+d})));return h},_combComparison:function(a){for(var h={},b={},d=0,q=a.length;d<q;++d){var c=f(a[d]),g=c.prop("tagName");if("SCRIPT"!=g&&"NAV"!=g&&"A"!=
g){var e=this._nodeIdentifier(c);"undefined"===typeof h[e]&&(h[e]=0);h[e]++;b[e]=d}}d=!1;for(e in h)2<h[e]&&(d=!0,q=f(a[b[e]]),this.regions.push(q));return d},mdr:function(a){if(3<=this.treeDepth(a)){a=a.children();this._combComparison(a);for(var h=0,b=a.length;h<b;++h){var d=f(a[h]),c=d.prop("tagName");"SCRIPT"!=c&&"NAV"!=c&&"A"!=c&&this.mdr(d)}}}};return new b}(n,g),e=n.vNativeObject||"vnative",k=new l;k.dm=m;n[e]=k})(window,p);$(document).ready(function(){for(var n=function(a){a=Object.keys(a);
a=a.map(function(a){return Number(a)});a.sort(function(a,d){return a-d});return a},g=$("body").children(),l=window[window.vNativeObject||"vnative"],m=l.dm,e={},k=0,c=g.length;k<c;++k){var f=$(g[k]),b=f.prop("tagName");if("DIV"==b||"SECTION"==b||"ARTICLE"==b||"MAIN"==b)b=m.treeDepth(f),Array.isArray(e[b])||(e[b]=[]),e[b].push(f)}g=n(e);g=function(a,b){var d,c=[];for(d=b.pop();a[d]&&0<a[d].length;)c.push(a[d].pop());for(d=b.pop();a[d]&&0<a[d].length;)c.push(a[d].pop());return c}(e,g);k=0;for(c=g.length;k<
c;++k)m.mdr(g[k]);var a={};$.each(m.regions,function(b,c){var d=c.parent().children().length,e=c.prop("tagName");"SCRIPT"!=e&&"NAV"!=e&&"A"!=e&&"META"!=e&&(a[d]=c)});console.log(a);g=n(a);m={};k=0;for(e=c=-1;k<g.length;)e=g[k],c=a[e].find("a").text().length,k++,0!==a[e].find("img").length&&(m[c]=a[e]);console.log(m);n=n(m);c=m[n.pop()];e=m[n.pop()];f=c.has(e).length?e:c;l.get(function(a,c){var d;if(!a){d=f.parent().children();var b=f.clone();b.attr("id","vNative-"+Math.floor(10*Math.random()));b.insertAfter($(d[1]));
d=b.find("a");"undefined"!==typeof d&&d.attr("href",c._url);this.modifyText(b[0]);this.replace(c._title,c._description);if(d=b.find("img"))d.each(function(){$.each(this.attributes,function(){this.specified&&this.value.match(/^http:\/\//i)&&(this.value=c._image)})}),d.attr("src",c._image),d.attr("srcset","");b.css({"border-color":"#C1E0FF","border-width":"10px","border-style":"solid"});d=$("<div><small>Sponsored by vNative</small></div>");d.insertBefore(b.children()[0]).css({"z-index":"100","text-align":"center"});
b[0].scrollIntoView()}})})}var p;if(void 0===window.jQuery||window.jQuery.fn.jquery){var l=document.createElement("script");l.setAttribute("type","text/javascript");l.setAttribute("src","//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js");l.readyState?l.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||r()}:l.onload=r;(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(l)}else p=window.jQuery,t()})();