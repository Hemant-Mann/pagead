(function(){function t(){window.$!==window.jQuery&&window.jQuery.noConflict();var m="function"===typeof window.$&&window.$.fn&&window.$.fn.jquery===jQuery.fn.jquery?window.$:window.jQuery;(function(f,e){var m=function(k,b){function d(){this.prefix="__vnative";this.random=(1E32*b.Math.random()).toString(36)}d.prototype={set:function(a,c,n,p){a=this.prefix+a;var b=new Date;b.setTime(b.getTime()+864E5*n);n="expires="+b.toUTCString();a=a+"="+c+"; "+n+"; ";p&&(a+=" path="+p+";");k.cookie=a},get:function(a){a=
this.prefix+a;a+="=";for(var c=k.cookie.split(";"),n=0;n<c.length;n++){for(var b=c[n];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(a))return b.substring(a.length,b.length)}return""},erase:function(a){a=this.prefix+a;k.cookie=a+'=; expires=Thu, 01 Jan 1970 00:00:00 UTC";'}};return new d}(f.document,f),q=function(k,b){function d(){this.regions=[]}d.prototype={treeDepth:function(a){a=a.children();for(var c=0;0<a.length;)a=a.children(),c+=1;return c},_nodeIdentifier:function(a){var c="",c=c+a.prop("tagName");
a.attr("id")&&(c+="#"+a.attr("id").replace(/[0-9]+/g,""));a.attr("class")&&(a=a.attr("class").split(/\s+/),3>=a.length&&(a.sort(),b.each(a,function(a,b){b=b.replace(/[0-9]+/g,"");c+="."+b})));return c},_combComparison:function(a){for(var c={},n={},p=0,d=a.length;p<d;++p){var k=b(a[p]),f=k.prop("tagName");if("SCRIPT"!=f&&"NAV"!=f&&"A"!=f){var e=this._nodeIdentifier(k);"undefined"===typeof c[e]&&(c[e]=0);c[e]++;n[e]=p}}p=!1;for(e in c)2<c[e]&&(p=!0,d=b(a[n[e]]),this.regions.push(d));return p},mdr:function(a){if(3<=
this.treeDepth(a)){a=a.children();this._combComparison(a);for(var c=0,n=a.length;c<n;++c){var d=b(a[c]),e=d.prop("tagName");"SCRIPT"!=e&&"NAV"!=e&&"A"!=e&&this.mdr(d)}}}};return new d}(f,e),h=function(e,b){function d(){this.loaded=!1;this.parser=null;this.domain="track.vnative.com";this.sent={};this.pid=this.contents={}}d.prototype={init:function(){this.loaded=!0;this.parser=new e.UAParser},_mobile:function(){return e.navigator.userAgent.match(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|nokia/i)instanceof
Array?"1":"0"},_deviceInfo:function(){if(!this.loaded||!this.parser)return{};var c=this.parser.getResult(),a={height:e.screen.height,width:e.screen.width},c={browser:c.browser.name,os:c.os.name},b=this._mobile();return{screen:a,device:c,mobile:b}},store:function(c){var a=this._deviceInfo();a.cid=c.cid;a.pid=this.pid;a.loc=btoa(e.location.hostname);this.contents[c.cid]=a},_inViewPort:function(c){c=c.getBoundingClientRect();return 0<=c.top&&0<=c.left&&c.bottom<=(e.innerHeight||document.documentElement.clientHeight)&&
c.right<=(e.innerWidth||document.documentElement.clientWidth)},_send:function(c){var a=this;a.loaded?(a.store({cid:c}),b.ajax({url:"//"+a.domain+"/impression?callback=?",type:"GET",async:!0,dataType:"jsonp",jsonp:"callback",data:a.contents[c]}).done(function(b){b.success&&(a.sent[c]=!0)}).fail(function(){a.sent[c]=!1})):a.sent[c]=!1},attach:function(c,a){var d=this;d.sent[a]=!1;b(e).on("resize scroll",function(){!d.sent[a]&&d._inViewPort(c[0])&&(d.sent[a]=!0,d._send(a))})}};var a=new d;b.ajaxSetup({cache:!0});
b.getScript("//serve.vnative.com/uaparser.min.js",function(c){a.init()});return a}(f,e),g=function(){function g(){this.domain="serve.vnative.com";this.trackingDomain="track.vnative.com";this.ads={};this.text={};this.dm=q;this.ckid=null;this.init=!1;this.publisher=e(".byvnative").data("client")||"publisher";this.publisher=this.publisher.replace(/pub-/g,"")}g.prototype={_init:function(b){var d={dest:b._url,campaign:b._id,time:f.Date.now()};m.get("Tracking")||m.set("Tracking",m.random,365);this.ckid=
m.get("Tracking");this.ads[b._id]=d;this.init=!0;h.pid=this.publisher;h.store({cid:d.campaign})},get:function(b,d){var a=this;e.ajax({url:"//"+a.domain+"/?callback=?&uid="+a.publisher,type:"GET",async:!0,jsonp:"callback",dataType:"jsonp"}).done(function(c){c._id?(a._init(c),"video"==c._type&&"undefined"===typeof f.hPlayer?e.getScript("//"+a.domain+"/js/player.js",function(){d.call(a,null,c,b)}):d.call(a,null,c,b)):d.call(a,{error:"No Ads found"},{})}).fail(function(c){d.call(a,c,null)})},_trackLink:function(b){b=
this.ads[b];var d;d="//"+(this.trackingDomain+"/click");d+="?pid="+this.publisher;d+="&cid="+b.campaign;d+="&ckid="+this.ckid;d+="&dest="+btoa(b.dest);return d+="&ti="+b.time},_attach:function(b,d){var a=e(b),c=this._trackLink(d);a.on("click",function(a){a.preventDefault();0<e(this).parent().find("video").length||(f.location.href=c)});a.mousedown(function(a){a.preventDefault();if(!(0<e(this).parent().find("video").length))switch(a.which){case 2:case 3:f.open(c,"_newtab");break;default:f.location.href=
c}})},modifyText:function(b,d){var a=this;a._attach(b,d);"undefined"===typeof a.text[d]&&(a.text[d]={});if(3==b.nodeType){var c=e(b).text(),c=c.replace(/\s/g,"");0!=c.length&&(c.match(/readmore|ContinueReading/i)instanceof Array?b.nodeValue="Read More":11>=c.length?b.nodeValue="":a.text[d][c.length]=b)}else 1==b.nodeType&&e(b).contents().each(function(){a.modifyText(this,d)})},replace:function(b,d,a){a=this.text[a];var c=Object.keys(a),c=c.map(function(a){return Number(a)});c.sort(function(a,c){return a-
c});2<=c.length&&(a[c.pop()].nodeValue=d);a[c.pop()].nodeValue=b},attachImp:function(b,d){h.attach(b,d)}};return g}(),l=f.vNativeObject||"vnative";if(!0===f[l].init)return!1;f[l]=new g})(window,jQuery);m(document).ready(function(){var f=function(a){a=Object.keys(a);a=a.map(function(a){return Number(a)});a.sort(function(a,c){return a-c});return a},e=m("body").children(),r=window[window.vNativeObject||"vnative"];if(!0===r.init)return!1;for(var q=r.dm,h={},g=0,l=e.length;g<l;++g){var k=m(e[g]),b=k.prop("tagName");
if("DIV"==b||"SECTION"==b||"ARTICLE"==b||"MAIN"==b)b=q.treeDepth(k),Array.isArray(h[b])||(h[b]=[]),h[b].push(k)}e=f(h);e=function(a,b){var d,e=[];for(d=b.pop();a[d]&&0<a[d].length;)e.push(a[d].pop());for(d=b.pop();a[d]&&0<a[d].length;)e.push(a[d].pop());return e}(h,e);g=0;for(l=e.length;g<l;++g)q.mdr(e[g]);var d={};m.each(q.regions,function(a,b){var e=b.parent().children().length,f=b.prop("tagName");"SCRIPT"!=f&&"NAV"!=f&&"A"!=f&&"META"!=f&&(d[e]=b)});e=f(d);if(0!==e.length){q={};g=0;l={};for(h={};g<
e.length;)h=e[g],l=d[h].find("a").text().length,q[l]=d[h],g++;f=f(q);l=q[f.pop()];h=q[f.pop()];if("function"===typeof l.has&&l.has(h).length)k=h;else if(l)k=l;else return!1;for(var a=Number(m(".byvnative").data("ad-num")||1),f=[],g=0;g<a;++g)f.push(Math.round(100*Math.random()));f.forEach(function(){r.get({index:g,total:a},function(a,b,d){if(a)return console.info(a);var e;e=k.parent().children();a=k.clone();a.attr("id","vNative-"+Number(g+1));a.insertAfter(m(e[1]));e=a.find("a");"undefined"!==typeof e&&
e.attr("href",b._url);this.modifyText(a[0],b._id);this.replace(b._title,b._description,b._id);if(e=a.find("img"))e.each(function(){m.each(this.attributes,function(){this.specified&&this.value.match(/^http:\/\//i)&&(this.value=b._image)})}),e.attr("src",b._image),e.attr("srcset",b._image);b._video&&1<=b._video.length&&e&&window.hPlayer.create(e,{_video:b._video,_image:b._image});
this.attachImp(a,b._id);d.index==d.total-1&&"undefined"!==typeof window.hPlayer&&window.hPlayer.init()})})}})}if(window.jQuery&&window.jQuery.fn)t();else{window.jQuery=null;var r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("src","//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js");r.readyState?r.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||t()}:r.onload=t;(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(r)}})();